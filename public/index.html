<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>AVX Verifier</title>

    <link href="./files/bootstrap.min.css" rel="stylesheet">
    <link href="./files/verifier.css" rel="stylesheet">
  </head>

  <body>
    <div class="container">
      <div class="row">
        <div class="col-md-12 text-center">
          <h1 class="font-weight-normal">Welcome to the VerifyMyBallot Site.</h1>

          <p>Use this site to perform a ballot check and confirm your ballot was recorded and sealed correctly.</p>
        </div>
      </div>

      <div class="row">
        <div class="col-sm-12 col-md-6" style="margin: auto;">
          <div class="text-center">
            <h2>Step-by-Step Instructions</h2>
            <p>It's simple. Follow these 4 simple steps:</p>
          </div>


          <ol>
            <li>Enter the ballot checking code displayed in the Mark.It app.</li>
            <li>Click or tap <b>ENTER</b>.</li>
            <li>Tap the <b>CODE ENTERED</b> button in the Mark.It app.</li>
            <li>A passkey will display in both the Mark.It app and below. Confirm the passkeys match on both screens. Tap <b>YES</b> in the Mark.It app to confirm.</li>
            <li>Your ballot will be displayed below. Review your choices and confirm in the Mark.It app whether it looks correct.</li>
          </ol>
        </div>

        <div class="col-sm-12 col-md-12">
          <hr>
          <div class="container-fluid">

            <!-- Initialization -->
            <div class="col-md-6 m-auto mb-4">
              <form id="initialize" class="collapse" action="#">
                <div class="text-center mb-4">
                  <span>Enter election URL:</span>
                </div>

                <div class="form-label-group">
                  <input type="text" id="election-url" class="form-control" value="http://dbb:3003/us/" required />
                </div>

                <button id="initialize-btn" class="btn btn-lg btn-primary btn-block" type="submit">ENTER</button>
              </form>
            </div>

            <!-- Find ballot -->
            <form id="findBallot" class="collapse" action="#">
              <div class="text-center mb-4">
                <span>Enter Ballot Checking Code:</span>
              </div>

              <div class="form-label-group">
                <input type="text" id="verifier-code" name="verifier[code]" class="form-control" required />
              </div>

              <button id="tracking-btn" class="btn btn-lg btn-primary btn-block" type="submit">ENTER</button>
            </form>

            <!-- Ballot found screen (wait for input in app) -->
            <form id="submitTrackingCode" class="collapse" action="#">
              <div class="text-center mb-4">
                <h2 class="h3 mb-3 font-weight-normal">Ballot found!</h2>
                <p>Waiting for your choice in the Mark.It app.</p>
              </div>
            </form>

            <!-- Submit verifier public key (pairing screen) -->
            <form id="submitVerifierKey" class="form-label-group collapse">
              <p id="verification-code" style="text-align: center; font-weight: 400;"></p>
              <p>Does the passkey displayed above match the passkey displayed in the Mark.It app? Tap <b>Yes</b> or <b>No</b> in the Mark.It app.</p>
            </form>

            <!-- Render unsealed ballot -->
            <div id="showChoices" class="collapse">
              <div class="text-center mb-4">
                <h2 class="h3 mb-3 font-weight-normal">Ballot</h2>
              </div>

              <div class="form-label-group col-sm-12" style="margin: auto;">
                <span class="template">Here is your unsealed ballot:</span>

                <ol id="choices"></ol>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="./files/jquery-3.6.0.min.js"></script>
    <script src="./files/bootstrap.min.js"></script>
    <script src="./bundle.js"></script>
    <script src="./files/app.js"></script>
  </body>
</html>
